<%- include('../partials/header') %>

<div class="blog-container">
  <div class="form-container">
    <h1>Edit Post</h1>
    <% if (error) { %>
      <div class="error-message"><%= error %></div>
    <% } %>
    <form action="/blog/<%= post._id %>/edit" method="POST" enctype="multipart/form-data">
      <div class="form-group">
        <label for="title">Title</label>
        <input type="text" id="title" name="title" value="<%= post.title %>" required>
      </div>
      <div class="form-group">
        <label for="content">Content</label>
        <textarea id="content" name="content" rows="10" required><%= post.content %></textarea>
      </div>
      <% if (post.image) { %>
        <div class="form-group">
          <label>Current Image</label>
          <img src="<%= post.image %>" alt="Current image" style="max-width: 200px;">
        </div>
      <% } %>
      <div class="form-group">
        <label for="image">Upload New Image (Optional)</label>
        <input type="file" id="image" name="image" accept="image/*">
        <small>Accepted formats: JPG, PNG, GIF, WEBP (Max 5MB)</small>
      </div>
      <div class="form-actions">
        <button type="submit" class="btn btn-primary">Update Post</button>
        <a href="/blog/<%= post._id %>" class="btn btn-secondary">Cancel</a>
      </div>
    </form>
  </div>
</div>

<%- include('../partials/footer') %>
